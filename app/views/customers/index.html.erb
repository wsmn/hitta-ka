<% content_for(:sidebar) do %>
  <%= render('application/account_menu', current: :customers) %>
<% end %>

<div class="w-full overflow-y-auto lg:flex-grow px-4">
  <div class="flex-grow mx-auto sm:px-4 pt-2 md:pt-6">
    <div class="w-full flex justify-between items-center">
      <h1 class="text-3xl font-bold text-gray-800">Customers</h1>
      <div class="flex items-end md:items-center mt-2">
        <%= link_to(new_customer_path, class: 'bg-blue-200 border border-blue-200 hover:bg-blue-500 hover:border-blue-500 py-2 px-3 rounded text-blue-800 font-semibold') do %>
          <%= icon('fas', 'plus', class: 'mr-1 text-blue-900 text-sm') %>
          <%= t('.new_customer') %>
        <% end %>
      </div>
    </div>
    <div class="mt-2">
      <h2 class="text-xl font-bold text-gray-700">All customers</h2>
    </div>
    <div class="flex justify-between">
      <div class="my-2 flex sm:flex-row flex-col">
        <div class="flex flex-row mb-1 sm:mb-0">
          <div class="relative">
            <select
              class="appearance-none h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
              <option>5</option>
              <option>10</option>
              <option>20</option>
            </select>
            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
              <svg class="ml-2 h-6 w-6 text-gray-500" fill="currentColor" viewBox="0 0 24 24">
                <path d="M15.3 9.3a1 1 0 0 1 1.4 1.4l-4 4a1 1 0 0 1-1.4 0l-4-4a1 1 0 0 1 1.4-1.4l3.3 3.29 3.3-3.3z" />
              </svg>
            </div>
          </div>
          <div class="relative ml-2">
            <select
              class="appearance-none h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500">
              <option>All</option>
              <option>Active</option>
              <option>Archived</option>
            </select>
            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
              <svg class="ml-2 h-6 w-6 text-gray-500" fill="currentColor" viewBox="0 0 24 24">
                <path d="M15.3 9.3a1 1 0 0 1 1.4 1.4l-4 4a1 1 0 0 1-1.4 0l-4-4a1 1 0 0 1 1.4-1.4l3.3 3.29 3.3-3.3z" />
              </svg>
            </div>
          </div>
          <div class="relative ml-2 hidden">
            <select
              class="appearance-none h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500">
              <option>Type</option>
              <option>Individual</option>
              <option>Company</option>
              <option>Public sector</option>
            </select>
            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
              <svg class="ml-2 h-6 w-6 text-gray-500" fill="currentColor" viewBox="0 0 24 24">
                <path d="M15.3 9.3a1 1 0 0 1 1.4 1.4l-4 4a1 1 0 0 1-1.4 0l-4-4a1 1 0 0 1 1.4-1.4l3.3 3.29 3.3-3.3z" />
              </svg>
            </div>
          </div>
        </div>
        <div class="relative w-64 sm:ml-2">
          <span class="absolute inset-y-0 left-0 flex items-center pl-2">
            <svg viewBox="0 0 24 24" class="h-5 w-5 fill-current text-gray-500">
              <path
                d="M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z">
              </path>
            </svg>
          </span>
          <input placeholder="Search"
            class="block pl-8 pr-4 py-2 w-full bg-white border border-gray-400 rounded text-sm placeholder-gray-500 text-white focus:bg-white focus:placeholder-gray-400 focus:text-gray-800 focus:outline-none focus:border-gray-500">
        </div>
      </div>
    </div>
    <div class="w-full bg-white border border-gray-400 rounded rounded shadow-md mb-6 mt-4">
      <div class="border-b-2 bg-gray-200 rounded-t">
        <div class="w-full flex">
          <div class="w-20 md:w-24 flex inline-block justify-center">
          </div>
          <div class="w-full flex">
            <div class="w-1/3 lg:w-1/4 flex">
              <span class="uppercase text-sm font-semibold py-4 text-blue-900">
                Name
              </span>
            </div>
            <div class="w-1/3 lg:w-1/4 flex">
              <span class="uppercase text-sm font-semibold py-4 text-blue-900">
                Latest project
              </span>
            </div>
            <div class="w-1/4 hidden lg:flex">
              <span class="uppercase text-sm font-semibold py-4 text-blue-900">
                Active projects
              </span>
            </div>
            <div class="w-1/3 lg:w-1/4 flex justify-center md:justify-start">
              <span class="uppercase text-sm font-semibold py-4 text-blue-900">
                Unpayed
              </span>
            </div>
          </div>
          <div class="w-16 hidden md:flex items-center">
          </div>
        </div>
      </div>
      <% if (@customers.empty?) %>
        <%= render('empty') %>
      <% else %>
        <% @customers.each_with_index do |customer, idx| %>
          <% if (idx % 2 == 0) %>
            <div class="flex border-b bg-white">
              <%= render("row", customer: customer) %>
            </div>
          <% else %>
            <div class="flex border-b bg-gray-200">
              <%= render("row", customer: customer) %>
            </div>
          <% end %>
        <% end %>
      <% end %>
      <div class="px-3 bg-white border-t flex flex-col xs:flex-row items-end justify-center">
        <div class="px-2 align-middle inline-flex flex items-center">
          <span class="inline-flex tracking-widest font-semibold py-4 text-blue-900">
            1 2 3 4 5 6 7 8
          </span>
          <button class="text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-1 px-4 rounded ml-2">
            Next
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
