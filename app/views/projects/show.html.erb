<% content_for(:sidebar) do %>
  <%= render('application/account_menu', current: :projects) %>
<% end %>
<% content_for(:header_title) do %>
  <h1 class="text-3xl font-bold text-gray-900"><%= t('.title') %></h1>
<% end %>
<div class="w-full overflow-y-auto lg:flex-grow">
  <%= render('show_heading') %>
  <div class="bg-white p-4 pb-8 md:p-8">
    <div class="flex flex-wrap -mx-2">
      <div class="w-full xl:w-3/4 px-2">
        <div class="bg-white rounded border border-gray-500 shadow-md">
          <div class="flex flex-wrap">
            <div class="w-1/2 lg:w-1/3 p-6">
              <span class="flex items-center">
                <h1 class="text-xl font-bold text-gray-900"><%= t('.address') %></h1>
                <svg class="h-6 w-6 text-gray-900 ml-1 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
              </span>
              <p class="text-base">Street 5, 123 12, City, Sweden</p>
              <h1 class="text-xl font-bold text-gray-800 mt-6">Description</h1>
              <p class="text-base">Here is your discription of the project. You wrote this when
                creating
                a new project.</p>
              <h1 class="text-xl font-bold text-gray-800 mt-6">Type</h1>
              <p class="text-base">House</p>
            </div>
            <div class="w-1/2 lg:w-1/3 p-6">
              <h1 class="text-xl font-bold text-gray-800">Summary</h1>
              <h2 class="text-gray-800 font-bold">Tasks: <span class="text-black font-normal"><%= @project.tasks.count %></span></h2>
              <h2 class="text-gray-800 font-bold">Hours: <span class="text-black font-normal"><%= @project.hours%> h</span></h2>
            </div>
            <div class="w-full lg:w-1/3 border-t lg:border-t-0 lg:border-l p-6">
              Lägg till mapbox här!
            </div>
          </div>
        </div>
      </div>
      <div class="w-1/2 xl:hidden">
      </div>
      <div class="w-full sm:w-1/2 xl:w-1/4 px-2 mt-4 xl:mt-0">
        <%= render(@project.customer) %>
      </div>
    </div>
  </div>
  <div x-data="{ tab: 'tasks' }">
    <div class="flex border-b border-gray-500 bg-white px-4 md:px-8 text-center">
      <div class="w-full lg:w-2/5 xl:w-1/4 flex -mx-1">
        <div class="w-1/3 px-1 flex">
          <button button :class="{ 'active bg-gray-300 -mb-px border-gray-500 py-2': tab === 'tasks' }"
            @click="tab = 'tasks'"
            class="w-full bg-gray-100 border-l border-t border-r border-gray-400 rounded-t py-1 text-blue-800 font-semibold flex items-center justify-center">
            <%= t('.tasks') %>
          </button>
        </div>
        <div class="w-1/3 px-1 flex">
          <button :class="{ 'active bg-gray-300 -mb-px border-gray-500 py-2': tab === 'timeline' }"
            @click="tab = 'timeline'"
            class="w-full bg-gray-100 border-l border-t border-r border-gray-400 rounded-t py-1 text-blue-800 font-semibold flex items-center justify-center">
            <%= t('.timeline') %>
          </button>
        </div>
        <div class="w-1/3 px-1 flex">
          <button :class="{ 'active bg-gray-300 -mb-px border-gray-500 py-2': tab === 'invoices' }"
            @click="tab = 'invoices'"
            class="w-full bg-gray-100 border-l border-t border-r border-gray-400 rounded-t py-1 text-blue-800 font-semibold flex items-center justify-center">
            <%= t('.invoices') %>
          </button>
        </div>
      </div>
    </div>
    <div x-show="tab === 'tasks'" class="flex-grow px-4 lg:px-8 bg-gray-300">
      <%= render('show_search_field') %>
      <div class="flex pb-4">
        <%= render('tasks/table', project: @project, tasks: @project.tasks) %>
      </div>
    </div>
    <div x-show="tab === 'timeline'" class="flex-grow px-4 lg:px-8 bg-gray-300">
      <div class="w-2/3 flex flex-wrap bg-white rounded shadow-md p-4">
        <div class="w-full text-center mb-8">
          <h2 class="text-xl mt-4"><%= t('.timeline') %></h2>
          <p class="text-gray-500"><%= t('.your_project_timeline') %></p>
        </div>
        <div class="w-1/2 h-64 pr-4 relative">
          <div class="bg-gray-200 h-24 rounded p-4">
            <p class="text-xl font-semibold text-teal-500">
              <%= t('.project_start') %>
            </p>
          </div>
          <div class="absolute right-0 top-0 mt-10 -mr-3">
            <svg class="fill-current text-teal-500 w-6 ml-1" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M0 10C0 4.48 4.48 0 10 0s10 4.48 10 10-4.48 10-10 10S0 15.52 0 10zm2 0c0 4.41 3.59 8 8 8s8-3.59 8-8-3.59-8-8-8-8 3.59-8 8zm8-4.5c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zM9 10c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1z" />
            </svg>
          </div>
        </div>
        <div class="w-1/2 h-64 border-l border-gray-500">
          <div class="ml-3 mt-8">
            <p><%= l(@project.created_at, format: "%Y-%m-%d") %></p>
          </div>
        </div>
      </div>
    </div>
    <div x-show="tab === 'invoices'" class="flex-grow px-4 lg:px-8 bg-gray-300">
      <%= render('show_search_field') %>
    </div>
  </div>
</div>
